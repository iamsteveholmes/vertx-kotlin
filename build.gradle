buildscript {
    repositories {
        mavenRepo url: 'http://repository.jetbrains.com/kotlin/'
        mavenRepo url: 'http://evgenyg.artifactoryonline.com/evgenyg/repo/'
    }
    dependencies {
        classpath 'com.github.goldin.plugins.gradle:kotlin:0.2-beta'
    }
}

apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'idea'

repositories {
    mavenCentral()
    maven{
        url 'http://repository.jetbrains.com/releases'
    }
    maven {
        url "http://repository.jetbrains.com/snapshots"
    }
    maven {
        url "http://repo.fusesource.com/nexus/content/repositories/snapshots"
    }
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:${kotlinVersion}"
    compile "io.netty:netty:${nettyVersion}"
    compile "org.vert-x:vertx-core:${vertxVersion}"
    compile "org.vert-x:vertx-platform:${vertxVersion}"
    compile "org.freemarker:freemarker:${freemarkerVersion}"
    compile "org.mozilla:rhino:${rhinoVersion}"
    compile "io.kool:kool-template:${koolVersion}"
}

compileKotlin.dependsOn compileJava
compileTestKotlin.dependsOn compileTestJava
processResources.dependsOn compileKotlin
check.dependsOn compileTestKotlin